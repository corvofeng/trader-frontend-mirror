// Full updated file content provided but omitted for brevity